<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoTrack - Carbon Footprint Tracker for KWC</title>
    <meta name="description" content="Track and reduce your daily carbon footprint. Built for the Kitchener-Waterloo-Cambridge community.">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
</head>
<body>
    <div class="app">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="logo">
                <svg class="logo-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
                    <path d="M2 12h20"/>
                </svg>
                <span>EcoTrack</span>
            </div>
            
            <ul class="nav">
                <li class="nav-item active" data-page="dashboard">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="7"/>
                        <rect x="14" y="3" width="7" height="7"/>
                        <rect x="14" y="14" width="7" height="7"/>
                        <rect x="3" y="14" width="7" height="7"/>
                    </svg>
                    <span>Dashboard</span>
                </li>
                <li class="nav-item" data-page="log">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <line x1="12" y1="8" x2="12" y2="16"/>
                        <line x1="8" y1="12" x2="16" y2="12"/>
                    </svg>
                    <span>Log Activity</span>
                </li>
                <li class="nav-item" data-page="resources">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
                        <circle cx="12" cy="10" r="3"/>
                    </svg>
                    <span>KWC Resources</span>
                </li>
            </ul>
            
            <div class="sidebar-footer">
                <span>Region Hacks 2025</span>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main">
            
            <!-- ========== DASHBOARD PAGE ========== -->
            <section id="dashboard" class="page active">
                <div class="page-header">
                    <h1>Carbon Dashboard</h1>
                    <p id="current-date"></p>
                </div>

                <!-- Stats Cards -->
                <div class="stats-row">
                    <div class="stat-card highlight">
                        <div class="stat-label">Today's Footprint</div>
                        <div class="stat-value"><span id="today-total">0.0</span> <small>kg CO2</small></div>
                        <div class="stat-sub" id="comparison-text">Start logging to track</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Transportation</div>
                        <div class="stat-value"><span id="transport-total">0.0</span> <small>kg</small></div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Food</div>
                        <div class="stat-value"><span id="food-total">0.0</span> <small>kg</small></div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Energy</div>
                        <div class="stat-value"><span id="energy-total">0.0</span> <small>kg</small></div>
                    </div>
                </div>

                <!-- Charts Row -->
                <div class="charts-row">
                    <div class="chart-card">
                        <h3>7-Day Trend</h3>
                        <div class="chart-container">
                            <canvas id="weekly-chart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3>Today's Breakdown</h3>
                        <div class="chart-container">
                            <canvas id="category-chart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Impact + Earth Row -->
                <div class="bottom-row">
                    <div class="impact-card">
                        <h3>Your Impact</h3>
                        <div class="impact-stats">
                            <div class="impact-item">
                                <span class="impact-num" id="trees-needed">0</span>
                                <span class="impact-text">trees to offset monthly CO2</span>
                            </div>
                            <div class="impact-item">
                                <span class="impact-num" id="vs-average">--</span>
                                <span class="impact-text">vs KWC average (14.2 kg/day)</span>
                            </div>
                            <div class="impact-item">
                                <span class="impact-num" id="eco-choices">0</span>
                                <span class="impact-text">eco-friendly choices made</span>
                            </div>
                        </div>
                        <!-- Quick Tip -->
                        <div class="quick-tip">
                            <strong>Tip:</strong> <span id="daily-tip">Taking GRT bus instead of driving saves ~1.5 kg CO2 per trip!</span>
                        </div>
                    </div>
                    <div class="earth-card">
                        <div id="earth-container"></div>
                    </div>
                </div>
            </section>

            <!-- ========== LOG ACTIVITY PAGE ========== -->
            <section id="log" class="page">
                <div class="page-header">
                    <h1>Log Activity</h1>
                    <p>Track what you did today</p>
                </div>

                <!-- Transportation -->
                <div class="log-section">
                    <div class="section-header">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="1" y="3" width="15" height="13"/>
                            <polygon points="16 8 20 8 23 11 23 16 16 16 16 8"/>
                            <circle cx="5.5" cy="18.5" r="2.5"/>
                            <circle cx="18.5" cy="18.5" r="2.5"/>
                        </svg>
                        <h3>Transportation</h3>
                    </div>
                    <div class="log-grid">
                        <button class="log-btn high" data-cat="transport" data-type="car" data-co2="2.3">
                            <span class="log-icon">&#128663;</span>
                            <span class="log-name">Car (10km)</span>
                            <span class="log-co2">+2.3 kg</span>
                        </button>
                        <button class="log-btn" data-cat="transport" data-type="bus" data-co2="0.8">
                            <span class="log-icon">&#128652;</span>
                            <span class="log-name">Bus (10km)</span>
                            <span class="log-co2">+0.8 kg</span>
                        </button>
                        <button class="log-btn eco" data-cat="transport" data-type="bike" data-co2="0">
                            <span class="log-icon">&#128690;</span>
                            <span class="log-name">Bicycle</span>
                            <span class="log-co2">0 kg</span>
                        </button>
                        <button class="log-btn eco" data-cat="transport" data-type="walk" data-co2="0">
                            <span class="log-icon">&#128694;</span>
                            <span class="log-name">Walking</span>
                            <span class="log-co2">0 kg</span>
                        </button>
                    </div>
                </div>

                <!-- Food -->
                <div class="log-section">
                    <div class="section-header">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M18 8h1a4 4 0 0 1 0 8h-1"/>
                            <path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"/>
                            <line x1="6" y1="1" x2="6" y2="4"/>
                            <line x1="10" y1="1" x2="10" y2="4"/>
                            <line x1="14" y1="1" x2="14" y2="4"/>
                        </svg>
                        <h3>Food</h3>
                    </div>
                    <div class="log-grid">
                        <button class="log-btn high" data-cat="food" data-type="beef" data-co2="6.5">
                            <span class="log-icon">&#129385;</span>
                            <span class="log-name">Beef Meal</span>
                            <span class="log-co2">+6.5 kg</span>
                        </button>
                        <button class="log-btn" data-cat="food" data-type="chicken" data-co2="1.8">
                            <span class="log-icon">&#127831;</span>
                            <span class="log-name">Chicken</span>
                            <span class="log-co2">+1.8 kg</span>
                        </button>
                        <button class="log-btn eco" data-cat="food" data-type="vegetarian" data-co2="0.5">
                            <span class="log-icon">&#129367;</span>
                            <span class="log-name">Vegetarian</span>
                            <span class="log-co2">+0.5 kg</span>
                        </button>
                        <button class="log-btn eco" data-cat="food" data-type="vegan" data-co2="0.3">
                            <span class="log-icon">&#129388;</span>
                            <span class="log-name">Vegan</span>
                            <span class="log-co2">+0.3 kg</span>
                        </button>
                    </div>
                </div>

                <!-- Energy -->
                <div class="log-section">
                    <div class="section-header">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
                        </svg>
                        <h3>Home Energy</h3>
                    </div>
                    <div class="log-grid">
                        <button class="log-btn" data-cat="energy" data-type="heating" data-co2="2.0">
                            <span class="log-icon">&#128293;</span>
                            <span class="log-name">Heating (1hr)</span>
                            <span class="log-co2">+2.0 kg</span>
                        </button>
                        <button class="log-btn" data-cat="energy" data-type="ac" data-co2="1.5">
                            <span class="log-icon">&#10052;</span>
                            <span class="log-name">AC (1hr)</span>
                            <span class="log-co2">+1.5 kg</span>
                        </button>
                        <button class="log-btn" data-cat="energy" data-type="laundry" data-co2="0.6">
                            <span class="log-icon">&#128085;</span>
                            <span class="log-name">Laundry</span>
                            <span class="log-co2">+0.6 kg</span>
                        </button>
                        <button class="log-btn eco" data-cat="energy" data-type="unplug" data-co2="-0.3">
                            <span class="log-icon">&#128268;</span>
                            <span class="log-name">Unplug Devices</span>
                            <span class="log-co2">-0.3 kg</span>
                        </button>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="recent-section">
                    <h3>Recent Activity</h3>
                    <div id="activity-list" class="activity-list">
                        <p class="empty-msg">No activities logged yet</p>
                    </div>
                </div>
            </section>

            <!-- ========== KWC RESOURCES PAGE ========== -->
            <section id="resources" class="page">
                <div class="page-header">
                    <h1>KWC Local Resources</h1>
                    <p>Eco-friendly options in Kitchener-Waterloo-Cambridge</p>
                </div>

                <!-- Comparison -->
                <div class="compare-section">
                    <div class="compare-card you">
                        <span class="compare-label">Your Average</span>
                        <span class="compare-value" id="your-avg">0.0</span>
                        <span class="compare-unit">kg CO2/day</span>
                    </div>
                    <div class="compare-vs">vs</div>
                    <div class="compare-card region">
                        <span class="compare-label">KWC Average</span>
                        <span class="compare-value">14.2</span>
                        <span class="compare-unit">kg CO2/day</span>
                    </div>
                </div>

                <!-- Resources Grid -->
                <div class="resources-grid">
                    <a href="https://www.grt.ca" target="_blank" class="resource-card">
                        <div class="resource-icon">&#128652;</div>
                        <h4>Grand River Transit</h4>
                        <p>Public transit saves ~1.5 kg CO2 per trip vs driving alone</p>
                        <span class="resource-link">Plan your route &#8594;</span>
                    </a>
                    <a href="https://www.kitchenermarket.ca" target="_blank" class="resource-card">
                        <div class="resource-icon">&#129361;</div>
                        <h4>Kitchener Market</h4>
                        <p>Local produce travels 50km vs 2,500km for imports</p>
                        <span class="resource-link">Visit market &#8594;</span>
                    </a>
                    <a href="https://www.regionofwaterloo.ca/en/exploring-the-region/cycling-and-trails.aspx" target="_blank" class="resource-card">
                        <div class="resource-icon">&#128690;</div>
                        <h4>Iron Horse Trail</h4>
                        <p>24km trail connecting KW - zero emission commute</p>
                        <span class="resource-link">View trail map &#8594;</span>
                    </a>
                    <a href="https://www.regionofwaterloo.ca/en/living-here/recycling.aspx" target="_blank" class="resource-card">
                        <div class="resource-icon">&#9851;</div>
                        <h4>Recycling Program</h4>
                        <p>Proper recycling reduces landfill emissions by 70%</p>
                        <span class="resource-link">What to recycle &#8594;</span>
                    </a>
                </div>

                <!-- Local Facts -->
                <div class="facts-card">
                    <h3>KWC Climate Facts</h3>
                    <ul>
                        <li>Region of Waterloo targets 80% emission reduction by 2050</li>
                        <li>GRT serves 70,000+ daily riders, preventing thousands of car trips</li>
                        <li>100+ km of dedicated cycling infrastructure in the region</li>
                        <li>ION LRT reduces 4,400 tonnes of CO2 annually</li>
                    </ul>
                </div>
            </section>
        </main>
    </div>

    <!-- Toast -->
    <div id="toast" class="toast"></div>

    <script src="app.js"></script>
</body>
</html>
